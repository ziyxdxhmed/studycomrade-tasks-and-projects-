<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>All Tasks Consolidated</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-family: sans-serif; margin: 20px; }
        .task-section { margin-bottom: 25px; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .result { margin-top: 10px; font-weight: bold; }
        .box { width: 200px; height: 200px; border: 1px solid black; margin: 20px; }
        .error { color: red; font-size: 0.8em; display: none; }
        .movie-card { min-height: 400px; }
    </style>
</head>
<body onload="showModal()">

    <div class="container mt-5">
        <h1 class="text-center mb-5">Consolidated JavaScript Tasks</h1>

        <h2 class="mt-4">Task 14: Functions & Modals</h2>
        <div class="box" id="myDiv"></div>
        <div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Welcome!</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        This is a modal that appears when the page loads.
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <h2 class="mt-4">Task 15: Conditionals & User Input</h2>
        <div class="task-section">
            <h3>Check if a number is a multiple of 3</h3>
            <label for="numberInput">Enter a number:</label>
            <input type="number" id="numberInput" value="10900">
            <button onclick="checkMultipleOf3()">Check</button>
            <div id="multipleResult" class="result"></div>
        </div>
        <div class="task-section">
            <h3>Check for a particular sub-word</h3>
            <label for="sentenceInput">Enter a sentence:</label>
            <input type="text" id="sentenceInput" value="i am learning js">
            <label for="wordInput">Enter a word to search for:</label>
            <input type="text" id="wordInput" value="js">
            <button onclick="checkSubWord()">Check</button>
            <div id="subWordResult" class="result"></div>
        </div>
        <div class="task-section">
            <h3>Calculate Simple Interest</h3>
            <label for="principal">Principal (P):</label>
            <input type="number" id="principal" value="1000">
            <label for="rate">Rate (R):</label>
            <input type="number" id="rate" value="5">
            <label for="time">Time (T):</label>
            <input type="number" id="time" value="2">
            <button onclick="calculateComplexInterest()">Calculate</button>
            <div id="interestResult" class="result"></div>
        </div>

        <h2 class="mt-4">Task 16: Loops & Logic</h2>
        <div class="task-section">
            <h3>Display Even Numbers up to N</h3>
            <label for="nNumber">Enter a number (n):</label>
            <input type="number" id="nNumber" value="20">
            <button onclick="displayEvenNumbers()">Display</button>
            <p class="result">Even numbers: <span id="evenNumbersResult"></span></p>
        </div>
        <div class="task-section">
            <h3>Check if a Character is a Vowel or Consonant</h3>
            <label for="charInput">Enter a single character:</label>
            <input type="text" id="charInput" maxlength="1">
            <button onclick="checkCharType()">Check</button>
            <p class="result" id="charTypeResult"></p>
        </div>
        <div class="task-section">
            <h3>Count of Even and Odd Numbers (1 to 999)</h3>
            <button onclick="countEvenOdd()">Count</button>
            <p class="result" id="evenOddResult"></p>
        </div>
        <div class="task-section">
            <h3>Count Character Occurrences in a String</h3>
            <label for="stringInput">Enter a string:</label>
            <input type="text" id="stringInput" value="hello">
            <label for="charToCount">Enter character to count:</label>
            <input type="text" id="charToCount" maxlength="1" value="l">
            <button onclick="countOccurrences()">Count</button>
            <p class="result" id="countResult"></p>
        </div>
        <div class="task-section">
            <h3>Sum and Average of Array Elements</h3>
            <p>Array: [1, 9, 8]</p>
            <button onclick="calculateSumAndAverage()">Calculate</button>
            <p class="result" id="sumAverageResult"></p>
        </div>
        <div class="task-section">
            <h3>Find the Largest Number in an Array (with a loop)</h3>
            <p>Array: [1, 9, 8, 25, 4, 12]</p>
            <button onclick="findLargestNumber()">Find</button>
            <p class="result" id="largestNumberResult"></p>
        </div>

        <h2 class="mt-4">Task 17: Display Cards</h2>
        <div class="row" id="card-container"></div>
        
        <h2 class="mt-4">Task 18: Form Validation</h2>
        <form id="myForm" novalidate class="task-section">
            <div class="mb-3">
                <label for="name" class="form-label">Name:</label>
                <input type="text" class="form-control" id="name" required>
                <div id="nameError" class="error">Name is required and must be at least 3 characters.</div>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email:</label>
                <input type="email" class="form-control" id="email" required>
                <div id="emailError" class="error">Please enter a valid email address.</div>
            </div>
            <div class="mb-3">
                <label for="contact" class="form-label">Contact:</label>
                <input type="tel" class="form-control" id="contact" required>
                <div id="contactError" class="error">Contact number is required and must be 10 digits.</div>
            </div>
            <div class="mb-3">
                <label for="age" class="form-label">Age:</label>
                <input type="number" class="form-control" id="age" min="18" max="100" required>
                <div id="ageError" class="error">Age is required and must be between 18 and 100.</div>
            </div>
            <div class="mb-3">
                <label for="designation" class="form-label">Designation:</label>
                <input type="text" class="form-control" id="designation" required>
                <div id="designationError" class="error">Designation is required.</div>
            </div>
            <div class="mb-3">
                <label for="dob" class="form-label">Date of Birth:</label>
                <input type="date" class="form-control" id="dob" required>
                <div id="dobError" class="error">Date of Birth is required.</div>
            </div>
            <div class="mb-3">
                <label for="files" class="form-label">Upload Files:</label>
                <input type="file" class="form-control" id="files" multiple>
            </div>
            <button type="submit" class="btn btn-primary">Submit Form</button>
        </form>

        <h2 class="mt-4">Task 19: API & Callbacks</h2>
        <div class="text-center mb-4">
            <button class="btn btn-primary" id="loadMoviesBtn">Load Top Movies</button>
        </div>
        <div class="row row-cols-1 row-cols-md-3 g-4" id="movie-cards-container"></div>
        <hr class="my-5">
        <div class="mt-5 text-center">
            <h3>Demonstrating Callbacks</h3>
            <div class="input-group mb-3 w-50 mx-auto">
                <input type="text" id="userInput" class="form-control" placeholder="Type something...">
                <button class="btn btn-secondary" id="processDataBtn">Process Data</button>
            </div>
            <p class="mt-3 fs-5" id="callbackResult"></p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // All tasks are contained within this script block.
        // To see outputs from Tasks 11-13, open your browser's Developer Console (F12).
        
        // =================================================================
        // |                        TASK 11                                |
        // =================================================================
        console.log('--- Task 11: Implicit Coercion Results ---');
        console.log('A' - 1);
        console.log('A' + 1);
        console.log(2 + '2' + '2');
        console.log('hello' + 'world' + 89);
        console.log('hello' - 'world' + 89);
        console.log('hello' + 78);
        console.log('78' - 90 + '2');
        console.log(2 - '2' + 90);
        console.log(89 - '90' / 2);
        console.log((true == false) > 2);
        
        // =================================================================
        // |                        TASK 12                                |
        // =================================================================
        console.log('\n--- Task 12: String Methods, Implicit Coercion ---');
        let myString1 = ' gfuh ieiuei ';
        let firstFiveLetters = myString1.trim().substring(0, 5);
        console.log(`1. Result: '${firstFiveLetters}'`);
        let myString2 = 'hduej dij';
        let length = myString2.length;
        let upperCaseString = myString2.toUpperCase();
        console.log(`2. Length: ${length}, Uppercase: '${upperCaseString}'`);
        let myString3 = ' biji jdo ';
        let lowerCaseAndTrimmed = myString3.toLowerCase().trim();
        console.log(`3. Result: '${lowerCaseAndTrimmed}'`);
        let sentence = 'The quick brown fox jumps over the lazy dog.';
        let newSentence = sentence.replace('dog', 'cat');
        console.log(`4. Result: '${newSentence}'`);
        console.log(`5. Coercion:`, 89 + 'hello' + 90 / 9);
        console.log(`5. Coercion:`, 100 - '50' + '5');

        // =================================================================
        // |                        TASK 13                                |
        // =================================================================
        console.log('\n--- Task 13: Objects, Arrays, and More ---');
        let animal = { species: 'Lion', name: 'Leo' };
        let car = { make: 'Toyota', model: 'Camry' };
        console.log('1. Animal Object:', animal);
        console.log('1. Car Object:', car);
        let originalString = 'javascript';
        let reversedString = originalString.split('').reverse().join('');
        console.log(`3. Reversed string: '${reversedString}'`);
        let numbers = [5, 2, 8, 1, 9, 3];
        let highest = Math.max(...numbers);
        let lowest = Math.min(...numbers);
        console.log(`4. Highest: ${highest}, Lowest: ${lowest}`);
        let unsortedArray = [5, 2, 8, 1, 9, 3];
        unsortedArray.sort((a, b) => a - b);
        console.log('5. Sorted Array:', unsortedArray);
        let fruits = ['Apple', 'Banana', 'Cherry', 'Date', 'Elderberry'];
        let firstThree = fruits.slice(0, 3);
        console.log('6. First 3 elements:', firstThree);
        let colors = ['Red', 'Green', 'Blue', 'Yellow', 'Orange', 'Purple'];
        colors.splice(4, 1, 'Cyan', 'Magenta');
        console.log('7. Modified Array:', colors);

        // =================================================================
        // |                        TASK 14                                |
        // =================================================================
        function multiplyThreeNumbers(a, b, c) { return a * b * c; }
        function divideTwoNumbers(a, b) { return b === 0 ? "Error: Division by zero is not allowed." : a / b; }
        function setDivBackgroundColor(elementId, color) {
            const element = document.getElementById(elementId);
            if (element) { element.style.backgroundColor = color; }
        }
        function generateRandomBackgroundColor() {
            const randomColor = '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');
            document.body.style.backgroundColor = randomColor;
        }
        function showModal() {
            const myModal = new bootstrap.Modal(document.getElementById('myModal'));
            myModal.show();
        }
        console.log('\n--- Task 14: Function Results ---');
        console.log('1. Multiplication (5, 10, 2):', multiplyThreeNumbers(5, 10, 2));
        console.log('2. Division (100, 4):', divideTwoNumbers(100, 4));
        setDivBackgroundColor('myDiv', 'lightblue');
        generateRandomBackgroundColor();

        // =================================================================
        // |                        TASK 15                                |
        // =================================================================
        function checkMultipleOf3() {
            const number = document.getElementById('numberInput').value;
            const resultDiv = document.getElementById('multipleResult');
            resultDiv.textContent = number % 3 === 0 ? `Yes, ${number} is a multiple of 3.` : `No, ${number} is not a multiple of 3.`;
        }
        function checkSubWord() {
            const sentence = document.getElementById('sentenceInput').value;
            const word = document.getElementById('wordInput').value;
            const resultDiv = document.getElementById('subWordResult');
            resultDiv.textContent = sentence.includes(word) ? `Yes, '${word}' exists.` : `No, '${word}' does not exist.`;
        }
        function calculateComplexInterest() {
            const principal = document.getElementById('principal').value;
            const rate = document.getElementById('rate').value;
            const time = document.getElementById('time').value;
            const resultDiv = document.getElementById('interestResult');
            const interest = (principal * rate * time) / 100;
            resultDiv.textContent = `Interest is: ${interest}`;
        }

        // =================================================================
        // |                        TASK 16                                |
        // =================================================================
        function displayEvenNumbers() {
            const n = document.getElementById('nNumber').value;
            const resultSpan = document.getElementById('evenNumbersResult');
            let evenNumbers = [];
            for (let i = 2; i <= n; i += 2) { evenNumbers.push(i); }
            resultSpan.textContent = evenNumbers.join(', ');
        }
        function checkCharType() {
            const char = document.getElementById('charInput').value.toLowerCase();
            const resultP = document.getElementById('charTypeResult');
            const vowels = 'aeiou';
            if (char.length !== 1 || !/[a-z]/.test(char)) { resultP.textContent = 'Enter a single alphabet character.'; return; }
            resultP.textContent = vowels.includes(char) ? `'${char}' is a vowel.` : `'${char}' is a consonant.`;
        }
        function countEvenOdd() {
            const resultP = document.getElementById('evenOddResult');
            let evenCount = 0;
            let oddCount = 0;
            for (let i = 1; i <= 999; i++) { if (i % 2 === 0) { evenCount++; } else { oddCount++; } }
            resultP.textContent = `Even count: ${evenCount}, Odd count: ${oddCount}`;
        }
        function countOccurrences() {
            const str = document.getElementById('stringInput').value;
            const char = document.getElementById('charToCount').value;
            const resultP = document.getElementById('countResult');
            let count = 0;
            for (let i = 0; i < str.length; i++) { if (str[i] === char) { count++; } }
            resultP.textContent = `The character '${char}' appears ${count} time(s).`;
        }
        function calculateSumAndAverage() {
            const arr = [1, 9, 8];
            const resultP = document.getElementById('sumAverageResult');
            let sum = arr.reduce((acc, curr) => acc + curr, 0);
            const average = sum / arr.length;
            resultP.textContent = `Sum: ${sum}, Average: ${average}`;
        }
        function findLargestNumber() {
            const arr = [1, 9, 8, 25, 4, 12];
            const resultP = document.getElementById('largestNumberResult');
            let largest = arr[0];
            for (let i = 1; i < arr.length; i++) { if (arr[i] > largest) { largest = arr[i]; } }
            resultP.textContent = `The largest number is: ${largest}`;
        }

        // =================================================================
        // |                        TASK 17                                |
        // =================================================================
        window.onload = function() {
            const cardsData = [
                { title: 'Card 1', text: 'This is the first card generated by JS.' },
                { title: 'Card 2', text: 'This is the second card generated by JS.' },
                { title: 'Card 3', text: 'This is the third card generated by JS.' }
            ];
            const container = document.getElementById('card-container');
            cardsData.forEach(card => {
                const cardCol = document.createElement('div');
                cardCol.className = 'col-md-4 mb-4';
                cardCol.innerHTML = `<div class="card h-100"><div class="card-body"><h5 class="card-title">${card.title}</h5><p class="card-text">${card.text}</p></div></div>`;
                container.appendChild(cardCol);
            });
            // Also call the modal function on load
            showModal();
        };

        // =================================================================
        // |                        TASK 18                                |
        // =================================================================
        const form = document.getElementById('myForm');
        const nameInput = document.getElementById('name');
        const emailInput = document.getElementById('email');
        const contactInput = document.getElementById('contact');
        const ageInput = document.getElementById('age');
        const designationInput = document.getElementById('designation');
        const dobInput = document.getElementById('dob');
        const nameError = document.getElementById('nameError');
        const emailError = document.getElementById('emailError');
        const contactError = document.getElementById('contactError');
        const ageError = document.getElementById('ageError');
        const designationError = document.getElementById('designationError');
        const dobError = document.getElementById('dobError');
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        const contactRegex = /^\d{10}$/;
        function validateForm() {
            let isValid = true;
            if (nameInput.value.length < 3) { nameError.style.display = 'block'; isValid = false; } else { nameError.style.display = 'none'; }
            if (!emailRegex.test(emailInput.value)) { emailError.style.display = 'block'; isValid = false; } else { emailError.style.display = 'none'; }
            if (!contactRegex.test(contactInput.value)) { contactError.style.display = 'block'; isValid = false; } else { contactError.style.display = 'none'; }
            const age = parseInt(ageInput.value);
            if (isNaN(age) || age < 18 || age > 100) { ageError.style.display = 'block'; isValid = false; } else { ageError.style.display = 'none'; }
            if (designationInput.value.trim() === '') { designationError.style.display = 'block'; isValid = false; } else { designationError.style.display = 'none'; }
            if (dobInput.value === '') { dobError.style.display = 'block'; isValid = false; } else { dobError.style.display = 'none'; }
            return isValid;
        }
        form.addEventListener('submit', function(event) {
            event.preventDefault();
            if (validateForm()) { console.log("Form is valid!"); form.reset(); } else { console.log("Form has validation errors."); }
        });

        // =================================================================
        // |                        TASK 19                                |
        // =================================================================
        const movieCardsContainer = document.getElementById('movie-cards-container');
        const loadMoviesBtn = document.getElementById('loadMoviesBtn');
        const topMovies = ['Inception', 'The Matrix', 'Interstellar', 'Parasite', 'Dune', 'Arrival'];
        class MovieCard {
            constructor(movie) {
                this.title = movie.Title;
                this.year = movie.Year;
                this.poster = movie.Poster === 'N/A' ? 'https://via.placeholder.com/300x450?text=No+Image' : movie.Poster;
            }
            createHTML() {
                return `<div class="col"><div class="card h-100 shadow-sm movie-card"><img src="${this.poster}" class="card-img-top" alt="${this.title} poster"><div class="card-body"><h5 class="card-title">${this.title}</h5><p class="card-text text-muted">${this.year}</p></div></div></div>`;
            }
        }
        const fetchMovieData = async (title) => {